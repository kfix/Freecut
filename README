Freecut v0.1-xyron

Free firmware replacement for the Xyron(tm) Personal Cutting System.

*******************************************************************************
IMPORTANT: REPROGRAMMING THE AVR WILL PERMANENTLY ERASE YOUR ORIGINAL FIRMWARE 

         !!! THERE IS NO WAY TO GET THE ORIGINAL FIRMWARE BACK !!!

*******************************************************************************

Original firmware cannot be copied from another machine (it has been
locked and cannot be read from the CPU)

Original firmware cannot be restored through any PC application used for
normal firmware upgrades.

This Freecut firmware has only been tested on the machine that I have. It
may not work on your machine.  It may cause permanent damage, and it
will certainly void your warranty.

Freecut cannot read your original cartridges and may never read them in
the future.

Xyron is a trademark of XYRON, INC. 

Freecut is not a XYRON product. Freecut was developed completely 
independently, without any documentation to XYRON products, and without
any original firmware. If you have problems with Freecut, do not consult
XYRON. 


If you still want to proceed:

Attach an AVR programming cable to the ISP connector header on the main board (J1):

 J1   |  AVR
------+-----
  1   |  PDO
  3   |  SCK
  4   |  PDI
  5   |  RESET
  6   |  GND

Top view of ISP connector:

       J1
+---------+
| 5  3  1 |
| 6  4  2 |
+---------+

Top view of JTAG connector:

       J3
+---------------+
| 9  7  5  3  1 |
|10  8  6  4  2 |
+---------------+

===edge of board======

And upload the freecut.hex file.

After reprogramming, the machine should beep, and display "Freecut v0.1" on the LCD display.

To plot with Freecut on the Xyron, you need to install a serial port onto the board and connect it to your PC.
Freecut does not use the Xyron pattern books.

You can use a serial cable by by populating the serial port header (J16) with an RS232 female socket.
You could also connect to the existing USB socket (J17) by populating the bridge chip header (U5) with an FTDIXXXX Serial-to-USB chip.

The buttons on the screen and the pattern book tray are plumbed but are not mapped to any functions at the moment.

USB uses 115200 baud, 8N1.

Following commands are available:

version
	display version number

move <x> <y>
	lift pen, and move to coordinates.

draw <x> <y>
	drop pen, and move to coordinates.

curve <x0> <y0> <x1> <y1> <x2> <y2> <x3> <y3>
	drop pen and draw cubic Bezier curve

speed <num>
	lower numbers are faster. 60 is about the fastest practical
	speed. 100 is reasonable for most cases. The speed is tied
	directly to an AVR timer: speed 100 -> 250 kHz/100 = 2.5 kHz
	stepping frequency -> 6.25"/second. If the speed is too high,
	the motors will start skipping. 

press <num>
	lower numbers are more pressure. 1023 is minimum, 0 is maximum.

flash
	just dumps the internal AT45DB041 flash chip in CAR mode.

reset
	CPU reset


Don't send too many commands too quickly. Wait for '>' prompt before sending another line.

NOTE: This is the first quick & dirty version. User interface may experience
sudden changes (like a more sensible speed/press syntax)

e-mail for Freecut on Cricut: <freecutfirmware@gmail.com>
e-mail for Freecut on Xyron: <joey@kidfixit.com>
